import e,{useState as t,useEffect as n,useMemo as r}from"react";import{Menu as a,Breadcrumb as i}from"antd";import{useHistory as c}from"react-router-dom";var o=a.SubMenu,u=function(r){var i=r.data,u=r.t,l=r.defaultOpenKeys,m=c(),s=t("home"),d=s[0],f=s[1];function p(e){f(null==e?void 0:e.pathname)}n((function(){p(window.location);var e=m.listen(p);return function(){e()}}),[]);var v=function(t,n){return e.createElement(o,{"data-cy":"customMenuSelect",key:t.title,title:u(t.title)},t.list&&t.list.map((function(e,t){return e.list?v(e):h(e)})))},h=function(t,n){return e.createElement(a.Item,{key:t.path,"data-cy":"customMenuSelectNode"},e.createElement("div",{className:"row"},e.createElement("span",{className:"flex"},u(t.title)),e.createElement("span",{className:"medium menu-count"},t.count)))};return e.createElement(a,{onClick:function(e){e.key?m.push(e.key):m.push("/home")},inlineIndent:0,selectedKeys:[d],className:"menu-container",style:{width:200},theme:"dark",mode:"inline",defaultOpenKeys:l},i.map((function(e,t){return e.list?v(e):h(e)})))},l=function(a){var o=a.t,u=c(),l=t("home"),m=l[0],s=l[1];function d(e){s(null==e?void 0:e.pathname)}n((function(){d(window.location);var e=u.listen(d);return function(){e()}}),[]);var f=r((function(){for(var e=[],t=m.split("/").filter((function(e){return e.length>0})),n=0;n<t.length;n++){for(var r=t[n],a=0;a<n;a++)r=t[a]+"."+r;e.push(r)}return e}),[m]);return console.log("custombread",f),e.createElement(i,{separator:">"},f&&f.map((function(t,n){return e.createElement(i.Item,{"data-cy":"customBreadCrumbItem",key:"breaditem"+n},o(t))})))},m=function(t){var r=t.children,a=t.showBreadTitle,i=void 0===a||a,o=t.menuData,m=t.header,s=t.defaultOpenKeys,d=t.t;c();var f=function(){document.documentElement.style.setProperty("--app-height","".concat(window.innerHeight,"px"))};return n((function(){return window.addEventListener("resize",f),f(),function(){window.removeEventListener("resize",f)}}),[]),e.createElement("div",{className:"container"},e.createElement("div",{className:"menu-header"},m),e.createElement(u,{data:o,t:d,defaultOpenKeys:s}),e.createElement("div",{className:"menu-temp-content"},i&&e.createElement(l,{t:d}),e.createElement("div",{className:"menu-child"},r)))};export{l as CustomBreadcrumb,u as CustomMenu,m as MenuTemplate};
//# sourceMappingURL=index.js.map
