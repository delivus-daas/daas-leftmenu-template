"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("antd"),n=require("react-router-dom");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=r(e),u=t.Menu.SubMenu,i=function(r){var i=r.data,l=r.t,o=r.defaultOpenKeys,c=n.useHistory(),d=e.useState("home"),s=d[0],m=d[1];function f(e){m(null==e?void 0:e.pathname)}e.useEffect((function(){f(window.location);var e=c.listen(f);return function(){e()}}),[]);var p=function(e,t){return a.default.createElement(u,{key:e.title,title:l(e.title)},e.list&&e.list.map((function(e,t){return e.list?p(e):v(e)})))},v=function(e,n){return a.default.createElement(t.Menu.Item,{key:e.path},a.default.createElement("div",{className:"row"},a.default.createElement("span",{className:"flex"},l(e.title)),a.default.createElement("span",{className:"medium menu-count"},e.count)))};return a.default.createElement(t.Menu,{onClick:function(e){e.key?c.push(e.key):c.push("/home")},inlineIndent:0,selectedKeys:[s],style:{width:"var(--menu-width)",backgroundColor:"var(--dark)",position:"fixed",top:"var(--header-height)",minHeight:"100vh"},theme:"dark",mode:"inline",defaultOpenKeys:o},i.map((function(e,t){return e.list?p(e):v(e)})))},l=function(r){var u=r.t,i=n.useHistory(),l=e.useState("home"),o=l[0],c=l[1];function d(e){c(null==e?void 0:e.pathname)}e.useEffect((function(){d(window.location);var e=i.listen(d);return function(){e()}}),[]);var s=e.useMemo((function(){for(var e=[],t=o.split("/").filter((function(e){return e.length>0})),n=0;n<t.length;n++){for(var r=t[n],a=0;a<n;a++)r=t[a]+"."+r;e.push(r)}return e}),[o]);return a.default.createElement(t.Breadcrumb,{separator:">"},s&&s.map((function(e,n){return a.default.createElement(t.Breadcrumb.Item,{key:"breaditem"+n},u(e))})))};exports.CustomBreadcrumb=l,exports.CustomMenu=i,exports.MenuTemplate=function(t){var r=t.children,u=t.showBreadTitle,o=void 0===u||u,c=t.menuData,d=t.header,s=t.defaultOpenKeys,m=t.t;n.useHistory();var f=function(){document.documentElement.style.setProperty("--app-height","".concat(window.innerHeight,"px"))};return e.useEffect((function(){return window.addEventListener("resize",f),f(),function(){window.removeEventListener("resize",f)}}),[]),a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"menu-header"},d),a.default.createElement(i,{data:c,t:m,defaultOpenKeys:s}),a.default.createElement("div",{className:"menu-temp-content"},o&&a.default.createElement(l,{t:m}),a.default.createElement("div",{className:"menu-child"},r)))};
//# sourceMappingURL=index.js.map
